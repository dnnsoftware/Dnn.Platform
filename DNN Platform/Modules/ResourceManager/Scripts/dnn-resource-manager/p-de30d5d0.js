const t="dnn-resource-manager";let n;let e;let s=false;const o=typeof window!=="undefined"?window:{};const c=o.document||{head:{}};const l={t:0,o:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,n,e,s)=>t.addEventListener(n,e,s),rel:(t,n,e,s)=>t.removeEventListener(n,e,s),ce:(t,n)=>new CustomEvent(t,n)};const i=t=>Promise.resolve(t);const r=(()=>{try{new CSSStyleSheet;return typeof(new CSSStyleSheet).replace==="function"}catch(t){}return false})();const f="{visibility:hidden}.hydrated{visibility:inherit}";const a=(t,n="")=>{{return()=>{}}};const u=(t,n)=>{{return()=>{}}};const d=new WeakMap;const $=(t,n,e)=>{let s=K.get(t);if(r&&e){s=s||new CSSStyleSheet;s.replace(n)}else{s=n}K.set(t,s)};const p=(t,n,e,s)=>{let o=h(n);let l=K.get(o);t=t.nodeType===11?t:c;if(l){if(typeof l==="string"){t=t.head||t;let n=d.get(t);let e;if(!n){d.set(t,n=new Set)}if(!n.has(o)){{{e=c.createElement("style");e.innerHTML=l}t.insertBefore(e,t.querySelector("link"))}if(n){n.add(o)}}}else if(!t.adoptedStyleSheets.includes(l)){t.adoptedStyleSheets=[...t.adoptedStyleSheets,l]}}return o};const y=t=>{const n=t.l;const e=t.i;const s=n.t;const o=a("attachStyles",n.u);const c=p(e.shadowRoot?e.shadowRoot:e.getRootNode(),n);if(s&10){e["s-sc"]=c;e.classList.add(c+"-h")}o()};const h=(t,n)=>"sc-"+t.u;const m=t=>t!=null;const w=t=>{t=typeof t;return t==="object"||t==="function"};const S=(t,n,...e)=>{let s=null;let o=false;let c=false;let l=[];const i=n=>{for(let e=0;e<n.length;e++){s=n[e];if(Array.isArray(s)){i(s)}else if(s!=null&&typeof s!=="boolean"){if(o=typeof t!=="function"&&!w(s)){s=String(s)}if(o&&c){l[l.length-1].$+=s}else{l.push(o?b(null,s):s)}c=o}}};i(e);const r=b(t,null);r.p=n;if(l.length>0){r.h=l}return r};const b=(t,n)=>{const e={t:0,m:t,$:n,S:null,h:null};return e};const g={};const k=t=>t&&t.m===g;const C=(t,e,s,o)=>{let l=e.h[s];let i=0;let r;let f;{r=l.S=c.createElement(l.m);if(m(n)&&r["s-si"]!==n){r.classList.add(r["s-si"]=n)}if(l.h){for(i=0;i<l.h.length;++i){f=C(t,l,i);if(f){r.appendChild(f)}}}}return r};const M=(t,n,s,o,c,l)=>{let i=t;let r;if(i.shadowRoot&&i.tagName===e){i=i.shadowRoot}for(;c<=l;++c){if(o[c]){r=C(null,s,c);if(r){o[c].S=r;i.insertBefore(r,n)}}}};const j=(t,n)=>{const e=n.S=t.S;const s=n.h;{if(s!==null){M(e,null,n,s,0,s.length-1)}else;}};const P=(t,s)=>{const o=t.i;const c=t.g||b(null,null);const l=k(s)?s:S(null,null,s);e=o.tagName;l.m=null;l.t|=4;t.g=l;l.S=c.S=o.shadowRoot||o;{n=o["s-sc"]}j(c,l)};const U=(t,n,e)=>{const s=l.ce(n,e);t.dispatchEvent(s);return s};const v=(t,n)=>{if(n&&!t.k&&n["s-p"]){n["s-p"].push(new Promise((n=>t.k=n)))}};const x=(t,n)=>{if(t.t&4){t.t|=512;return}v(t,t.C);const e=()=>E(t,n);return et(e)};const E=(t,n)=>{const e=a("scheduleUpdate",t.l.u);const s=t.M;let o;e();return O(o,(()=>T(t,s,n)))};const T=async(t,n,e)=>{const s=t.i;const o=a("update",t.l.u);const c=s["s-rc"];if(e){y(t)}const l=a("render",t.l.u);{A(t,n)}if(c){c.map((t=>t()));s["s-rc"]=undefined}l();o();{const n=s["s-p"];const e=()=>H(t);if(n.length===0){e()}else{Promise.all(n).then(e);t.t|=4;n.length=0}}};const A=(t,n,e)=>{try{n=n.render();{t.t|=2}{{{P(t,n)}}}}catch(n){D(n,t.i)}return null};const H=t=>{const n=t.l.u;const e=t.i;const s=a("postUpdate",n);const o=t.C;if(!(t.t&64)){t.t|=64;{R(e)}s();{t.j(e);if(!o){L()}}}else{s()}{if(t.k){t.k();t.k=undefined}if(t.t&512){nt((()=>x(t,false)))}t.t&=~(4|512)}};const L=n=>{{R(c.documentElement)}nt((()=>U(o,"appload",{detail:{namespace:t}})))};const O=(t,n)=>t&&t.then?t.then(n):n();const R=t=>t.classList.add("hydrated");const W=(t,n,e)=>t;const q=async(t,n,e,s,o)=>{if((n.t&32)===0){{n.t|=32;o=J(e);if(o.then){const t=u();o=await o;t()}const t=a("createInstance",e.u);try{new o(n)}catch(t){D(t)}t()}if(o.style){let t=o.style;const n=h(e);if(!K.has(n)){const s=a("registerStyles",e.u);$(n,t,!!(e.t&1));s()}}}const c=n.C;const l=()=>x(n,true);if(c&&c["s-rc"]){c["s-rc"].push(l)}else{l()}};const F=t=>{if((l.t&1)===0){const n=_(t);const e=n.l;const s=a("connectedCallback",e.u);if(!(n.t&1)){n.t|=1;{let e=t;while(e=e.parentNode||e.host){if(e["s-p"]){v(n,n.C=e);break}}}{q(t,n,e)}}s()}};const I=t=>{if((l.t&1)===0){_(t)}};const N=(t,n={})=>{const e=a();const s=[];const i=n.exclude||[];const r=o.customElements;const u=c.head;const d=u.querySelector("meta[charset]");const $=c.createElement("style");const p=[];let y;let h=true;Object.assign(l,n);l.o=new URL(n.resourcesUrl||"./",c.baseURI).href;t.map((t=>{t[1].map((n=>{const e={t:n[0],u:n[1],P:n[2],U:n[3]};const o=e.u;const c=class extends HTMLElement{constructor(t){super(t);t=this;B(t,e);if(e.t&1){{{t.attachShadow({mode:"open"})}}}}connectedCallback(){if(y){clearTimeout(y);y=null}if(h){p.push(this)}else{l.jmp((()=>F(this)))}}disconnectedCallback(){l.jmp((()=>I(this)))}componentOnReady(){return _(this).v}};e.T=t[0];if(!i.includes(o)&&!r.get(o)){s.push(o);r.define(o,W(c))}}))}));{$.innerHTML=s+f;$.setAttribute("data-styles","");u.insertBefore($,d?d.nextSibling:u.firstChild)}h=false;if(p.length){p.map((t=>t.connectedCallback()))}else{{l.jmp((()=>y=setTimeout(L,30)))}}e()};const V=new WeakMap;const _=t=>V.get(t);const z=(t,n)=>V.set(n.M=t,n);const B=(t,n)=>{const e={t:0,i:t,l:n,A:new Map};{e.v=new Promise((t=>e.j=t));t["s-p"]=[];t["s-rc"]=[]}return V.set(t,e)};const D=(t,n)=>(0,console.error)(t,n);const G=new Map;const J=(t,n,e)=>{const s=t.u.replace(/-/g,"_");const o=t.T;const c=G.get(o);if(c){return c[s]}return import(`./${o}.entry.js${""}`).then((t=>{{G.set(o,t)}return t[s]}),D)};const K=new Map;const Q=[];const X=[];const Y=(t,n)=>e=>{t.push(e);if(!s){s=true;if(n&&l.t&4){nt(tt)}else{l.raf(tt)}}};const Z=t=>{for(let n=0;n<t.length;n++){try{t[n](performance.now())}catch(t){D(t)}}t.length=0};const tt=()=>{Z(Q);{Z(X);if(s=Q.length>0){l.raf(tt)}}};const nt=t=>i().then(t);const et=Y(X,true);export{g as H,N as b,S as h,i as p,z as r};
//# sourceMappingURL=p-de30d5d0.js.map