@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<Dnn.Modules.Html.Models.HtmlText>

@using DotNetNuke.Web.Mvc.Helpers

<script type="text/javascript" src="~/Resources/Shared/components/ckeditor/ckeditor.js"></script>
<div>
	<div class="form-horizontal" role="form">
		@Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
		<div class="form-group">
			@Html.LabelFor(m => Model.Content, new { @class = "col-md-2 control-label" })
			<div class="col-md-10">
				@Html.TextAreaFor(m => Model.Content, 5, 40, new { @class = "form-control html-editor", id = "HtmlContent" })
			</div>
		</div>
	</div>
</div>
<div class="modal-footer">
	<button class="btn btn-default">Close</button>
	<button type="submit" id="saveButton" class="btn btn-primary">Save</button>
</div>
<script type="text/javascript">
    /* TODO: Create JavaScript facade for HTMLEditors to minimize direct dependency */
    var editor = CKEDITOR.replace('HtmlContent', {
        height: '350px',
        allowedContent: true,
        on: {
            change: function (evt) {
                $('#HtmlContent').val(evt.editor.getData());
            }
        }
    });
</script>
