@using System.Collections
@using DotNetNuke.Common;
@using DotNetNuke.Entities.Modules;
@using DotNetNuke.Entities.Modules.Actions;
@using DotNetNuke.Security
@using DotNetNuke.UI.Modules;
@using DotNetNuke.Services.Localization;
@inherits DotNetNuke.Web.Razor.DotNetNukeWebPage, DotNetNuke.UI.Modules.IModuleControl, IActionable

@functions {
    private ModuleInstanceContext _context;
    public Control Control { get; private set; }
    public string ControlPath { get; private set; }
    public string ControlName { get; private set; }
    public string LocalResourceFile { get; set; }
    public ModuleInstanceContext ModuleContext
    {
        get
        {
            return Dnn.Context;
        }
    }

    public ModuleActionCollection ModuleActions
    {
        get
        {
            // add mywork to action menu
            var Actions = new ModuleActionCollection();
            Actions.Add(30,
                        "Add Booking",
                        "MyWork.Action",
                        "",
                        "view.gif",
                        EditURL(),
                        false,
                        SecurityAccessLevel.Edit,
                        true,
                        false);

            return Actions;
        }
    }

    public string EditURL()
    {
        return @ModuleContext.NavigateUrl(@ModuleContext.PortalSettings.ActiveTab.TabID, "Edit", true, "mid=" + Dnn.Module.ModuleID);
    }

}
